## **Hidden Order in Trades Predicts the Size of Price** **Moves**

November 2025


Mainak Singha


Astrophysics Science Division, NASA Goddard Space Flight Center, 8800 Greenbelt
Road, MD 20771
Department of Physics, The Catholic University of America, Washington, DC 20064


Email: mainak.singha@nasa.gov, singham@cua.edu


**Abstract**


Financial markets exhibit an apparent paradox: while directional price movements remain
largely unpredictable—consistent with weak-form efficiency—the _magnitude_ of price changes
displays systematic structure. Here we demonstrate that real-time order-flow entropy, computed from a 15-state Markov transition matrix at second resolution, predicts the magnitude
of intraday returns without providing directional information. Analysis of 38.5 million SPY
trades over 36 trading days reveals that conditioning on entropy below the 5th percentile
increases subsequent 5-minute absolute returns by a factor of 2.89 ( _t_ = 12 _._ 41, _p <_ 10 _[−]_ [4] ),
while directional accuracy remains at 45.0%—statistically indistinguishable from chance
( _p_ = 0 _._ 12). This decoupling arises from a fundamental symmetry: entropy is invariant
under sign permutation, detecting the _presence_ of informed trading without revealing its
direction. Walk-forward validation across five non-overlapping test periods confirms out-ofsample predictability, and label-permutation placebo tests yield _z_ = 14 _._ 4 against the null.
These findings suggest that information-theoretic measures may serve as volatility state
variables in market microstructure, though the limited sample (36 days, single instrument)
requires extended validation.


The efficient market hypothesis posits that asset prices fully reflect available information,


rendering future price movements unpredictable[1]. Empirical tests have largely confirmed this


prediction for _directional_ forecasting: momentum[2] and mean-reversion[3] effects, while statis

tically significant, explain only a small fraction of return variance. Yet price _magnitude_ —how


far prices move, irrespective of direction—represents a distinct forecasting target that need not


obey the same constraints.


This distinction has theoretical grounding in market microstructure theory. In the Kyle[4]


and Glosten-Milgrom[5] frameworks, informed traders possessing private information generate


persistent order flow that moves prices toward fundamental values. The critical observation is


that this persistence creates statistical structure in the transaction sequence—a departure from


randomness that information-theoretic measures can detect—without revealing the _sign_ of the


private information. An informed buyer generates the same entropy signature as an informed


seller: both produce order flow that is more predictable than the noise-trader baseline.


We formalize this insight by constructing a Time-Dependent Entropy measure from tick

level market data. At each second, the market occupies one of 15 discrete states defined by


the cross-product of price-change sign ( _{−_ 1 _,_ 0 _,_ +1 _}_ ) and volume quintile ( _{_ 1 _,_ 2 _,_ 3 _,_ 4 _,_ 5 _}_ ). The

transition matrix _P_ [ˆ] _t_ is estimated over a rolling 120-second window, and entropy is computed as


the stationary-weighted average of row entropies, normalized to [0 _,_ 1]:



1
_Ht_ := _−_
log _K_




- 
_πi_ ( _P_ [ˆ] _t_ )

_i∈S_ _j∈S_







_p_ ˆ _ij,t_ log ˆ _pij,t_ (1)
_j∈S_



where _K_ = 15 and _π_ ( _P_ [ˆ] _t_ ) is the stationary distribution. High entropy indicates unpredictable


transitions; low entropy indicates structure.


The theoretical prediction follows directly: if informed trading generates low entropy regard

less of direction, then conditioning on low entropy should predict _magnitude_ (informed traders


move prices) but not _direction_ (we cannot distinguish buyers from sellers). Formally:


**Theorem 1** (Magnitude Predictability) **.** _Under standard microstructure assumptions,_ E [ _|rt,t_ +∆ _| | Ht < H_ ] _>_

E [ _|rt,t_ +∆ _|_ ] _for sufficiently low_ _H._


**Theorem 2** (Directional Unpredictability) **.** _Under the same assumptions,_ E [sgn( _rt,t_ +∆) _| Ht_ ] =


0 _when informed traders are equally likely to be buying or selling._


The proofs rely on entropy’s permutation invariance: swapping “buy” and “sell” labels trans

forms one transition matrix into another with identical entropy. Thus entropy cannot distinguish


between them.


**Empirical Results**


We tested these predictions using 38,509,593 SPY trades from October 1 to November 19, 2025


(36 trading days), aggregated to second-resolution bars (828,907 observations). Figure 1 displays


the central finding: absolute 5-minute returns increase monotonically as entropy decreases. The


lowest quintile exhibits mean absolute returns of 8.14 bps versus 3.75 bps in the highest quintile


(ratio: 2.17). Conditioning on entropy below the 5th percentile yields 15.3 bps—a factor of 2.89

above the unconditional mean ( _t_ = 12 _._ 41, _p <_ 10 _[−]_ [4] ).


1


Figure 1: **Entropy predicts return magnitude but not direction.** Mean absolute 5-minute
returns (basis points) by entropy quintile. The monotonic decline from Q1 (low entropy, 8.14
bps) to Q5 (high entropy, 3.75 bps) confirms that order-flow structure forecasts volatility. Dashed
line: unconditional mean (5.29 bps). Error bars: standard error. _n_ = 828 _,_ 907 second-resolution
observations across 36 trading days.


2


Crucially, directional accuracy is 45.0% (108/240 out-of-sample trades), statistically indis

tinguishable from 50% ( _z_ = _−_ 1 _._ 55, _p_ = 0 _._ 12; Figure 2). This confirms the theoretical prediction:


entropy detects _that_ large moves are coming without revealing _which way_ .


Figure 2: **Directional accuracy is consistent with random guessing.** Observed direction
accuracy (45.0%) falls within the 95% confidence interval for a fair coin (shaded region). Binomial test: _p_ = 0 _._ 12. This result is consistent with entropy’s permutation invariance and rules
out hidden directional information.


Walk-forward validation (10-day training, 5-day testing, 5 non-overlapping folds) demon

strates out-of-sample stability: all five test periods show the magnitude effect (Table 1). A


simple asymmetric-payoff rule—entering when entropy is low and using tight stop-losses—yields


cumulative out-of-sample returns of +1,126 bps across 240 trades (Figure 3). Profit attribution


confirms: 87.8% from timing (knowing _when_ moves occur), 12.2% from payoff structure, 0.0%


from direction (Figure 4).


3


Table 1: **Walk-forward validation results.** All five out-of-sample folds exhibit statistically
significant magnitude predictability. Win rate below 50% confirms absence of directional edge;
positive returns arise from asymmetric payoffs.


Fold Period Trades Win Rate Magnitude Ratio _t_ -statistic PnL (bps)


1 Oct 15–21 32 71.9% 2.41 8.7 179.9
2 Oct 22–28 27 33.3% 2.18 7.2 212.9
3 Oct 29–Nov 4 77 44.2% 2.31 12.1 433.2
4 Nov 5–11 12 41.7% 1.89 4.9 66.5
5 Nov 12–18 92 40.2% 2.06 9.3 233.1


Pooled 240 45.0% 2.17 12.41 1,125.6


Figure 3: **Out-of-sample cumulative returns.** Entropy-based trading rule (blue) versus SPY
buy-and-hold (gray) across five walk-forward validation folds. Correlation between the rule and
benchmark: 0.12. Vertical dashed lines mark fold boundaries. The rule’s independence from
market direction is consistent with magnitude-only predictability.


**Robustness**


Three placebo tests confirm that results are not statistical artifacts:


1. **Label permutation** (1,000 trials): Shuffling return labels while preserving entropy yields


magnitude ratio 1 _._ 02 _±_ 0 _._ 08. Observed ratio of 2.17 corresponds to _z_ = 14 _._ 4 (empirical


_p <_ 0 _._ 001).


2. **Temporal scrambling** (1,000 trials): Breaking entropy-return alignment yields _z_ = 10 _._ 7.


4


Figure 4: **Return source attribution for the entropy-based trading rule.** Decomposition via Monte Carlo simulation (10,000 random-entry trials). Timing—knowing when volatility
spikes—accounts for 87.8% of returns. Asymmetric payoff structure contributes 12.2%. Directional forecasting contributes 0.0%, confirmed by direction-randomization tests.


5


3. **Random entry** (10,000 trials): Entering at random times with identical payoff structure


yields mean PnL of 137 _±_ 201 bps versus observed 1,126 bps ( _z_ = 4 _._ 9).


Parameter sensitivity analysis shows all 20 perturbations ( _±_ 50% on four parameters) remain


profitable, with worst-case PnL reduction of 40%. The signal appears robust to reasonable


methodological variation.


**Limitations and Interpretation**


Several constraints limit interpretation. First, the sample comprises only 36 trading days of a


single instrument—far shorter than standard validation periods in quantitative finance. Second,


October 29 alone contributed 38.5% of profits, raising concentration concerns. Third, execution


assumptions (immediate fills, fixed costs) may not hold at scale. Fourth, VIX remained in the


14–22 range throughout; behavior during high-volatility regimes is unknown.


Despite these caveats, the theoretical framework and empirical consistency suggest that


order-flow entropy may constitute a useful state variable for intraday volatility timing. The


finding that entropy predicts magnitude but not direction is not merely an empirical curiosity—


it follows necessarily from the mathematical structure of entropy itself, specifically its invariance


under label permutation. This invariance implies that any information-theoretic measure with


this symmetry property will exhibit the same decoupling.


From the perspective of market efficiency, these results do not contradict weak-form efficiency.


Predicting _that_ a large move will occur is categorically different from predicting _which direction_


it will go. The former is consistent with informed traders acting on private information; the


latter would require access to that information’s sign. Our findings suggest that microstructure


entropy reveals the _activity_ of informed traders without revealing their _intent_ .


Extended validation—longer time series, multiple instruments, live execution—is required


before practical application. The present analysis establishes the theoretical basis for entropy

based magnitude prediction and provides preliminary empirical support within a limited sample.

### **Methods**


**Data**


Tick-level trade data for SPY (SPDR S&P 500 ETF Trust) covering October 1 to November


19, 2025 (36 trading days). Total trades: 38,509,593; regular-hours trades: 34,083,179. Data


aggregated to second-resolution bars: 828,907 observations. Each observation records closing


price and total volume for the corresponding second.


**State Space Construction**


Price-change sign: _qt_ := sgn( _Pt −_ _Pt−_ 1) _∈{−_ 1 _,_ 0 _,_ +1 _}_ . Volume quintile: _vt_ := _⌈_ 5 _· FV,t_ ( _Vt_ ) _⌉∈_

_{_ 1 _, . . .,_ 5 _}_, where _FV,t_ is the empirical CDF of volume over the trailing 120 seconds. Combined

state: _St_ := ( _qt, vt_ ) _∈S_, _|S|_ = 15.


6


**Entropy Computation**


Transition matrix _P_ [ˆ] _t_ estimated from state transitions in the trailing 120-second window. When

row _i_ has no observed transitions, ˆ _pij_ = 1 _/_ 15 for all _j_ . Stationary distribution _π_ ( _P_ [ˆ] _t_ ) computed

via eigendecomposition. Normalized entropy: _Ht_ = _−_ (log 15) _[−]_ [1][ �] _i_ _[π][i]_ - _j_ _[p]_ [ˆ] _[ij]_ [ log ˆ] _[p][ij]_ [.]


**Signal Definition**


Low-entropy condition: _Ht < H_ 0 _._ 05 (5th percentile of _H_ over training period). Entry also


requires volume _>_ 95th percentile and 5-minute trailing return between 5 and 20 bps (to confirm


unusual activity without extreme moves already underway).


**Walk-Forward Protocol**


Training window: 10 trading days. Test window: 5 trading days. Non-overlapping folds. All


thresholds estimated on training data only; frozen for out-of-sample testing. Five folds total,


covering October 15 to November 18.


**Trading Rule**


All results for this rule are based on historical backtests; this study is purely academic and does


not constitute investment advice.


Entry: at signal, enter position in direction of trailing 5-minute return (momentum heuristic).


Exit: 5 bps stop-loss, 300-second timeout, or a fixed take-profit threshold chosen ex ante in the


training window. Transaction costs: 0.57 bps round-trip (half-spread entry + half-spread exit +


0.30 bps slippage + 0.10 bps exchange fees, calibrated to SPY’s typical 0.17 bps quoted spread).


**Statistical Tests**


Magnitude comparison: Welch’s _t_ -test (unequal variances). Directional accuracy: two-sided


binomial test against 50%. Placebo tests: label permutation (1,000 trials), temporal scrambling


(1,000 trials), random entry (10,000 trials). Multiple testing: Bonferroni correction at _α_ =


0 _._ 05 _/_ 14 = 0 _._ 0036; all primary results pass.


**Code and Data Availability**


Analysis code available upon request. Data from commercial tick-data vendors; access requires


appropriate licensing.

### **References**


[1] Fama, E. F. Efficient capital markets: A review of theory and empirical work. _J. Finance_


**25**, 383–417 (1970).


[2] Jegadeesh, N. & Titman, S. Returns to buying winners and selling losers: Implications for


stock market efficiency. _J. Finance_ **48**, 65–91 (1993).


7


[3] Poterba, J. M. & Summers, L. H. Mean reversion in stock prices: Evidence and implications.


_J. Financ. Econ._ **22**, 27–59 (1988).


[4] Kyle, A. S. Continuous auctions and insider trading. _Econometrica_ **53**, 1315–1335 (1985).


[5] Glosten, L. R. & Milgrom, P. R. Bid, ask and transaction prices in a specialist market. _J._


_Financ. Econ._ **14**, 71–100 (1985).


[6] Shannon, C. E. A mathematical theory of communication. _Bell Syst. Tech. J._ **27**, 379–423


(1948).


[7] Cover, T. M. & Thomas, J. A. _Elements of Information Theory_ 2nd edn (Wiley, 2006).


[8] Hasbrouck, J. _Empirical Market Microstructure_ (Oxford Univ. Press, 2007).


[9] Bouchaud, J.-P., Bonart, J., Donier, J. & Gould, M. _Trades, Quotes and Prices: Financial_


_Markets Under the Microscope_ (Cambridge Univ. Press, 2018).


[10] Bailey, D. H. & López de Prado, M. The deflated Sharpe ratio: Correcting for selection


bias, backtest overfitting, and non-normality. _J. Portfolio Manag._ **40**, 94–107 (2014).


[11] Easley, D., Kiefer, N. M., O’Hara, M. & Paperman, J. B. Liquidity, information, and


infrequently traded stocks. _J. Finance_ **51**, 1405–1436 (1996).


8


