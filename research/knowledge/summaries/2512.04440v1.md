**From informal markets to Limit Order Book dynamics: a mean field connection**


Navarro-Rubio, A. and Lage-Castellanos, A. _[∗]_

_Group of Complex Systems and Statistical Mechanics, Physics Faculty, University of Havana_
(Dated: December 5, 2025)


We propose a unified mean-field framework that bridges the dynamics of informal financial markets and formal markets governed by Limit Order Books (LOBs). Both settings are modeled as
interacting particle systems on a 1D price lattice, with temporal evolution described by master
equations that account for new entries, cancellations, and executions. The key insight is the introduction of a preferential interaction parameter Ψ, which modulates the likelihood of transactions
based on price compatibility: when Ψ = 0, interactions are random and uncoordinated, reproducing
the structure of informal markets; as Ψ _→∞_, only optimal (most mutually attractive) trades occur,
recovering LOB-like dynamics. A grand-canonical interpretation is used to identify effective thermodynamic quantities—such as interaction energy and price-dependent chemical potentials—that
underlie both systems. Most results are validated through numerical integration and simulations,
although an analytical solution is shown to exist at least for the symmetric stationary case of the
informal market.



**I.** **INTRODUCTION**


Financial markets vary widely in their degree of institutionalization, ranging from highly regulated exchanges
governed by transparent rules to informal, unregulated
settings that emerge in response to policy distortions or
institutional voids. While the dynamics of formal markets—particularly those operating via Limit Order Books
(LOBs)—have been extensively studied in econophysics

[1, 2], informal markets remain comparatively underexplored, largely due to data scarcity and their contextspecific nature. Yet, understanding both is essential: informal markets often dominate in developing economies
and can offer insights into market behavior under minimal institutional scaffolding.
From a modeling perspective, LOBs are typically represented as discrete price lattices where buy and sell orders arrive, cancel, and execute according to stochastic
rules. Zero-intelligence agent-based models—such as the
Santa Fe model—have successfully reproduced key empirical features (e.g., order book shape, spread dynamics)
using minimal behavioral assumptions [3, 4]. In contrast,
recent work on the Cuban informal foreign exchange market has modeled transactions as uncoordinated interactions between agents posting intentions on social media,
with prices anchored to a publicly announced reference
value [5, 6]. Although both approaches employ particlegas analogies and mean-field master equations, their formulations differ in execution logic, limiting direct comparison.
In this paper, we reconcile these two strands by developing a generalized mean-field framework that encompasses both market types as limiting cases of a single
dynamical system. The core innovation is a preferential interaction mechanism, controlled by a parameter Ψ,
which weights the probability of a transaction by the mutual attractiveness of the participating prices (i.e., how


_∗_ ale.lage@gmail.com



close they are to optimal execution). When Ψ = 0, all
compatible trades are equally likely—a regime that reproduces the random matching characteristic of informal
markets. In the limit Ψ _→∞_, only the most favorable matches occur, mimicking the price-time priority of
LOBs. Thus, Ψ acts as a tunable selectivity parameter, not a true thermodynamic temperature, but one that
governs the degree of coordination in the system.
We derive master equations for both limits and show
that they emerge from a common structure. These are
validated against stochastic simulations (agent-based and
Gillespie-based) and numerical integration, with excellent agreement in both transient dynamics and stationary profiles. For the informal limit, we provide an exact
analytical solution of the stationary state under symmetric Gaussian assumptions. Furthermore, we interpret the
stationary distributions through a grand-canonical lens,
defining effective interaction energy and price-dependent
chemical potentials that encode entry, cancellation, and
execution balances.
This unified perspective demonstrates that the distinction between informal and formal markets is not categorical but continuous and parameter-driven. It enables
techniques developed for LOB modeling to be adapted
to informal contexts—and vice versa—while offering a
minimal statistical-mechanical foundation for market diversity.


**A.** **Limit Order Books**


A Limit Order Book constitutes today’s most common infrastructure of _lit_ financial markets, where buy
and sell orders are visible to all participants [1]. The
LOB electronically organizes such orders for a specific
asset according to price and volume, structured into two
sides: bid and ask. The best bid price corresponds to
the highest value offered by a buyer, while the best ask
price is the lowest value accepted by a seller; the difference between the two is called the _spread_, and its average


Market buy orders

entry



Limited buy orders

cancelation



Limited buy orders

entry



Price



Order annihilation

due to execution



FIG. 1: Illustration of the processes that define order
flow by price range. Entries are defined as the arrival of
limit or market orders, while exits occur due to
spontaneous voluntary cancellations and order
executions.


defines the mid-price. Limit orders, those in which a desired execution price is specified, provide liquidity and
are executed ensuring time priority; while market orders
consume liquidity by executing immediately against the
best available price (see Fig. 1).
The LOB operates on a discrete grid of prices and volumes, determined by the price _tick_ and the minimum lot
size. Its state is defined by the set of active limit orders
at a given moment. A market order is matched with limit
orders on the opposite side, starting from the best price
and moving toward less attractive price levels until its
total volume is satisfied.
Modeling the LOB faces challenges associated with the
high dimensionality of the state space and the complexity of individual decisions [7]. From the Econophysics
perspective, agent-based models (ABM) have been proposed, mainly of two types: zero-intelligence (ZI) models and rational-agent models. ZI models assume simple
stochastic rules without complex strategies, aiming to explore to what extent the observed complexity can emerge
from random mechanisms under minimal constraints [2].
In a typical ZI formulation, the LOB is represented as
a one-dimensional price lattice where orders are introduced, canceled, or executed according to probabilistic
dynamics [8]. A representative example is the Santa Fe
model [3, 4, 9], in which unit-volume orders arrive and are
canceled following Poisson processes, and are executed
when matched with a counterpart at the most attractive
price level.


**B.** **Informal markets**


Informal financial markets, also referred to as fragmented, parallel, or black markets, emerge in developing
economies as a response to government policies that create mismatches between supply and demand, especially
under exchange controls and fixed exchange rate regimes



2


FIG. 2: Information flow in the Cuban informal foreign
exchange market. Reference price is established daily by
elTOQUE platform using messages containing
buy/order intentions gathered from social media and
digital trade platforms.


[10]. Unlike formal markets, they lack regulated legal
frameworks and exhibit distinctive features such as low
transparency, unregistered transactions, absence of legal
protection, predominance of cash, and low entry barriers

[5].


Information about these markets largely comes from
indirect observations, such as prices published on digital
platforms. In the case of the Cuban foreign exchange
market, Figure 2 shows the mechanism through which
the platform elTOQUE calculates a daily reference price
based on advertisements posted on social networks, influencing future buying and selling intentions [5]. However,
such a reference price does not always reflect the actual
transaction prices, which are often executed in private
spaces without institutional oversight [11].


From the perspective of Econophysics, the study of
these markets remains scarce due to their limited presence in developed economies. A relevant contribution is
the research carried out by the Center for Complex Systems at the Faculty of Physics, University of Havana,
focused on the Cuban informal foreign exchange market

[5, 6, 12]. In this model, agents represent individuals with
foreign currency exchange needs, with prices determined
around a reference value based on public advertisements.
The model includes processes such as the random arrival
of exchange needs, price drift due to the accumulation of
orders not yet executed, and agent matching to complete
transactions.


Although this approach allows for describing the phenomenology of the Cuban informal market, the implemented rules for order flows and executions depend on
hypotheses specific to the case study, which makes it difficult to generalize to other contexts.


**II.** **PROBABILISTIC MODEL OF THE LOB**


LOBs currently constitute the main operating mechanism of global stock markets. Consequently, they have
attracted significant interest for decades within the scientific community, particularly among researchers in the
field of Econophysics, who have devoted considerable effort to modeling and analyzing the dynamics that characterize them. In this section, a probabilistic analysis
of LOB dynamics is proposed, aiming to derive a master
equation that describes the profiles of buy and sell orders
per price level.


**A.** **Master Equation**


To analyze the dynamics of the LOB and facilitate
comparison with the behavior of informal markets, a
model inspired by the previously mentioned Santa Fe
framework is proposed, in which buy and sell orders participate in three processes: entry, cancellation, and execution. Figure 1 illustrates the inflow and outflow of



3


orders that define this dynamics.
Order entry is modeled as a Poisson process with rate
_ϕ_, with prices _p_ distributed according to a probability
density dependent on the reference price _s_ ( _t_ ). Cancellation occurs at a fixed rate ∆, proportionally to the number of orders at each level. Executions happen when market orders find limit counterparts with favorable prices,
assuming all orders are of unit size.
A key difference from the discrete treatment offered by
the Santa Fe model lies in the adoption of a single Poisson process that unifies the arrival of limit and market
orders, which simplifies the dynamics and allows for a
more tractable continuous description.
The temporal evolution of the number of orders per
price level is formalized through a master equation, composed of entry, cancellation, and execution terms:


d _n_ ( _p, t_ )

= _T_ entry _−_ _T_ cancellation _−_ _T_ execution (1)
d _t_


A probabilistic analysis leads to the coupled system of
equations in (2) for sell orders _na_ ( _p, t_ ) and buy orders
_nb_ ( _p, t_ ) (for brevity _na_ ( _p_ ) _, nb_ ( _p_ )):



_∞_ - _Na_ ( _t_ ) _−_ 1 � _∞_

_na_ ( _p_ _[′]_ _, t_ ) d _p_ _[′]_
_p_ _p_



_p_ - _Nb_ ( _t_ ) _−_ 1 � _p_

_nb_ ( _p_ _[′]_ _, t_ ) d _p_ _[′]_
0 0



_ϕbPb_ ( _s_ ( _t_ ) _, p_ _[′]_ ) d _p_ _[′]_
_p_



d _na_ ( _p_ ) = _ϕaPa_ ( _s_ ( _t_ ) _, p_ ) - 1

d _t_ _Nb_ ( _t_ )

d _n_ d _bt_ ( _p_ ) = _ϕbPb_ ( _s_ ( _t_ ) _, p_ ) - _Na_ 1( _t_ )




- _p_ - _Nb_ ( _t_ ) - 1

0 _nb_ ( _p_ _[′]_ _, t_ ) d _p_ _[′]_ _−_ ∆ _ana_ ( _p_ ) _−_ _na_ ( _p_ ) _Na_ ( _t_ )

- _∞_ - _Na_ ( _t_ ) - 1

_p_ _na_ ( _p_ _[′]_ _, t_ ) d _p_ _[′]_ _−_ ∆ _bnb_ ( _p_ ) _−_ _nb_ ( _p_ ) _Nb_ ( _t_ )




- _∞_




- _p_



_ϕaPa_ ( _s_ ( _t_ ) _, p_ _[′]_ ) d _p_ _[′]_
0



where each term reflects a specific process:


  - The first term represents the arrival of new orders,
weighted by the probability that they are not immediately executed.


  - The second describes the spontaneous cancellation
of active orders with probability ∆,


  - The third quantifies executions due to incoming
market orders interacting with competitive limit
counterparts.


The incoming distribution of orders _Pa_ ( _s, p_ ) and _Pb_ ( _s, p_ )
are left in full generality.


**B.** **Simulation and Comparison**


The dynamics of the LOB were simulated using an
ABM implemented in _Python_, considering symmetric parameters for _na_ ( _p, t_ ) and _nb_ ( _p, t_ ), as shown in Algorithm 1. The price arrival distribution was defined as
_P_ ( _s_ ( _t_ ) _, σ_ [2] _, p_ ), a Gaussian centered at the reference price
fixed in time _s_ = 100 with unit variance. The price
space was discretized into 500 _bins_ within the interval

[100 _−_ 5 _σ,_ 100 + 5 _σ_ ], with finite step _dp_ .



(2)


Although empirically is has been shown that the distribution of orders as a function of distance ∆ _p_ from the reference price follows a power law [1], the proposed model
allows for the incorporation of such distributions. Similarly, an extension allowing the update of _s_ ( _t_ ) could enable the exploration of recovering empirical phenomena
such as heavy tails in returns [13] or volatility clustering

[14], although such studies are beyond the scope of this
work.


Orders enter as a Poisson process with rate _ϕ_ = 20 and
are canceled at a constant rate ∆= 0 _._ 01. Classification
between limit and market orders is determined according
to the incoming price relative to the best available on the
opposite side. The values of _ϕ_ and ∆were chosen for
convenience, as their ratio controls the total number of
orders in the steady state and the system’s stabilization
time, balancing size and computational efficiency.


Ten independent simulations of duration _T_ = 1500
were performed, averaging results and standard deviations. To obtain the stationary profiles, in each simulation the last 750 histograms after reaching equilibrium
were averaged and then averaged across simulations. Simultaneously, the master equation (2) was numerically
integrated with step _dt_ = 0 _._ 1 using the Runge-Kutta 5(4)
method from the _SciPy_ package [15], using 1000 _bins_ and
the same parameters as in the simulation.


FIG. 3: Average total buy and sell orders as a function
of time, obtained through stochastic simulation and
numerical integration of the master equation 2. The
error bands corresponding to one standard deviation are
also shown.


The results shown in Figures 3 and 4 display excellent agreement between the stochastic simulations and
numerical integration, both in the temporal evolution of
total orders and in the stationary profiles of _na_ ( _p_ ) and
_nb_ ( _p_ ). Although the master equation does not reproduce
stochastic fluctuations, it accurately captures the average
dynamics of the system.


**III.** **INFORMAL GAS MODEL**


Following the approach proposed by [5], in which the
dynamics of an informal foreign exchange market are
modeled using mean-field master equations describing
the profiles _Na_ ( _p, q, t_ ) and _Nb_ ( _p, q, t_ ) which represent the
distributions of sell and buy orders, respectively, as functions of price, volume, and time; we aim to re-derive these
equations. The objective is to reformulate the underlying
processes so that their description more closely resembles
that used for the Limit Order Book, which will facilitate,
in later stages, the identification of possible theoretical
connections between both dynamics.


**A.** **Description**


We propose a model in which agents submit, at each
time _t_, buy or sell orders of a certain quantity _q_ at a
price _p_ . The parameters ( _p, q_ ) are distributed according
to a joint probability density function _P_ ( _s_ ( _t_ ) _, p, q_ ), conditioned on a reference price _s_ ( _t_ ). The state space ( _p, q_ )
is discretized into two grids with finite increments _dp_ and
_dq_, which define the system’s resolution.
Order entry is modeled as Poisson processes with rates
_ϕa_ and _ϕb_ for sell and buy orders, respectively, while voluntary cancellation is introduced with a constant probability for each order, governed by parameters ∆ _a_ and



4


∆ _b_ .
Executions are governed by interaction rates _κa_ and
_κb_, proportional to the quantity of opposite-type orders
in the system at time _t_ . A transaction occurs only if a buy
order for _qb_ units at price _pb_ interacts with a sell order
for _qa_ units at price _pa_, under the condition _pb ≥_ _pa_ .
If _qa_ = _qb_, both orders are fulfilled and removed from
the book; in cases where _qa > qb_ or _qa < qb_, the smallervolume order is exhausted and the residual order remains
in the market until fully executed.
The overall dynamics are schematized in Figure 5,
where the market is represented as a gas of agents that
enter, cancel, or interact through executions, determined
by price and volume attributes.


**B.** **Master Equation**


It is possible to formulate a master equation to describe the temporal evolution of the order quantity profile _N_ ( _p, q, t_ ), without distinguishing between buy or sell
orders, considering the processes of entry, execution, and
cancellation, in that order:


_d_
_dt_ _[N]_ [(] _[p, q, t]_ [) =] _[ ϕP]_ [(] _[p, q, t]_ [) +] _[ M]_ [(] _[p, q, t]_ [)] _[ −]_ [∆] _[C]_ [(] _[p, q, t]_ [) (3)]


The term _M_ ( _p, q, t_ ) includes both the migration of
orders to smaller volumes after partial executions and
the removal of orders that are matched with compatible
counterparts. When distinguishing between buy and sell
orders, these processes are expressed as (we remove time
dependence on all functions for brevity):



�� _∞_

_Ma_ ( _p_ _[∗]_ _, q_ _[∗]_ ) = _κa_

_p_ _[∗]_




- + _∞_

_Na_ ( _p_ _[∗]_ _, q_ ) _Nb_ ( _p_ _[′]_ _, q −_ _q_ _[∗]_ ) d _q_ d _p_ _[′]_
_q_ _[∗]_




     - _∞_

_−_ _Na_ ( _p_ _[∗]_ _, q_ _[∗]_ )

_p_ _[∗]_




- + _∞_ 
_Nb_ ( _p_ _[′]_ _, q_ _[′]_ ) d _q_ _[′]_ d _p_ _[′]_
0



�� _p∗_

_Mb_ ( _p_ _[∗]_ _, q_ _[∗]_ ) = _κb_

0



(4)


- + _∞_

_Nb_ ( _p_ _[∗]_ _, q_ ) _Na_ ( _p_ _[′]_ _, q −_ _q_ _[∗]_ ) d _q_ d _p_ _[′]_
_q_ _[∗]_




     - _p∗_

_−_ _Nb_ ( _p_ _[∗]_ _, q_ _[∗]_ )

0




- + _∞_ 
_Na_ ( _p_ _[′]_ _, q_ _[′]_ ) d _q_ _[′]_ d _p_ _[′]_
0



(5)


To reduce complexity, the factorization _P_ ( _s_ ( _t_ ) _, p, q_ ) =
_P_ ( _s_ ( _t_ ) _, p_ ) _Q_ ( _q_ ) is introduced, with exponential distributions for the volumes, justified based on empirical evidence from the study of the Cuban informal foreign exchange market, as discussed in [5]. Thus, the profiles
_Na_ ( _p, q, t_ ) and _Nb_ ( _p, q, t_ ) take the form:


_Na_ ( _p, q, t_ ) = _Qa_ ( _q_ ) _na_ ( _p, t_ ) = _na_ ( _p, t_ ) _λae_ _[−][λ][a][q]_

(6)
_Nb_ ( _p, q, t_ ) = _Qb_ ( _q_ ) _nb_ ( _p, t_ ) = _nb_ ( _p, t_ ) _λbe_ _[−][λ][b][q]_


5





















FIG. 4: Averaged stationary profiles of _na_ ( _p_ ) and _nb_ ( _p_ ) obtained through stochastic simulation and integration of
the master equation 2.



Buy order entry Sell order entry


Informal Market



Price



(7)



Volume _q_


Canceled order


After execution, the particle with lower

volume is annihilated


FIG. 5: Illustration of the informal market dynamics as
a gas of agents with buy or sell intentions. Three
processes occur: entry, cancellation, and execution,
according to the prices and volumes of the orders.



The resulting interaction terms are expressed as:


                 - _∞_
_p_ _[n][b]_ [(] _[p][′][, t]_ [) d] _[p][′]_

_ma_ ( _p, t_ ) = _κaNb_ ( _t_ ) ( _γa −_ 1) _na_ ( _p, t_ )

_Nb_ ( _t_ )

                 - _p_
0 _[n][a]_ [(] _[p][′][, t]_ [) d] _[p][′]_

_mb_ ( _p, t_ ) = _κbNa_ ( _t_ ) ( _γb −_ 1) _nb_ ( _p, t_ )

_Na_ ( _t_ )


with



Finally, the master equation for the dynamics of the
order quantities at price _p_ and time _t_ can be summarized
as:



1
_γa_ =
1 + _[λ][a]_



_λa_



1
; _γb_ =

_[λ]_ _λ_ _[a]_ _b_ 1 + _λ_ _[λ]_ _a_ _[b]_



( _p, t_ ) - _∞_

= _ϕaPa_ ( _s_ ( _t_ ) _, p_ ) _−_ _κa_ (1 _−_ _γa_ ) _na_ ( _p, t_ )
d _t_



d _na_ ( _p, t_ )



_nb_ ( _p_ _[′]_ _, t_ ) _dp_ _[′]_ _−_ ∆ _ana_ ( _p, t_ )
_p_



( _p, t_ ) - _p_

= _ϕbPb_ ( _s_ ( _t_ ) _, p_ ) _−_ _κb_ (1 _−_ _γb_ ) _nb_ ( _p, t_ )
d _t_



d _nb_ ( _p, t_ )



_p_ (8)

_na_ ( _p_ _[′]_ _, t_ ) _dp_ _[′]_ _−_ ∆ _bnb_ ( _p, t_ )
0



**C.** **Analytical Solution**


Let us now consider the stationary case, in which the
system reaches a regime where the distributions do not
vary in time. By setting the temporal derivatives in (8)
to zero, we obtain:




           - _p_
∆ _bnb_ ( _p_ ) = _Ib_ ( _p_ ) + _χbnb_ ( _p_ )



_na_ ( _p_ _[′]_ ) _dp_ _[′]_
0



_∞_ (9)

_nb_ ( _p_ _[′]_ ) _dp_ _[′]_
_p_




           - _∞_
∆ _ana_ ( _p_ ) = _Ia_ ( _p_ ) + _χana_ ( _p_ )


6



where


_Ia_ ( _p_ ) = _ϕaPa_ ( _s, p_ ) _χa_ = _κa_ ( _γa −_ 1)
_Ib_ ( _p_ ) = _ϕbPb_ ( _s, p_ ) _χb_ = _κb_ ( _γb −_ 1) _._


Defining _m_ ( _p_ ) = _na_ ( _p_ ) _nb_ ( _p_ ) and after some algebraic manipulations, we arrive at the differential equation:













( _p_ ) - _χb_

= _m_ [2] ( _p_ )
_dp_ _Ib_ (




- - _Ia′_ [(] _[p]_ [)] _b_ [(] _[p]_ [)]
+ _m_ ( _p_ ) _[I]_ _[′]_
_Ia_ ( _p_ ) [+] _Ib_ ( _p_ )

















_dm_ ( _p_ )



_χb_ _χa_

_Ib_ ( _p_ ) _[−]_ _Ia_ ( _p_ )




_._



The solution of this equation is done in appendix A,
resulting in:







( _p_ ) - - _p_

exp _−X_
_C_



_m_ ( _p_ _[′]_ ) 
_I_ ( _p_ _[′]_ ) _[dp][′]_



_m_ ( _p_ )



_na_ ( _p_ ) = _Ca_


   
_nb_ ( _p_ ) = _Cb_



( _p_ ) - - _p_

exp _X_
_C_



0



FIG. 6: Average total buy and sell orders as a function
of time, obtained through stochastic simulation and
numerical integration of the master equation 8. Error
bands corresponding to one standard deviation are also
shown.


this scenario _ψ_ = 0. The price space [100 _±_ 5 _σ_ ] was discretized into 300 _bins_, interpreted as species participating
in three possible reactions: entry, cancellation, and interaction. The associated rates were _ϕP_ (100 _, σ_ [2] _, p_ ) (entry),
∆ _n_ ( _p, t_ ) (cancellation), and _κn_ ( _p, t_ ) _n_ opposite( _p, t_ ) (interaction), analogous to those in the ABM.
Additionally, the master equation (8) was numerically
integrated over _T_ = 1000 with step _dt_ = 0 _._ 1, using
the Runge–Kutta 5(4) method implemented in the _SciPy_
package. A discretization of 1000 _bins_ was used, with
parameters _ϕ_ = 15, _κ_ = 0 _._ 01, and ∆= 0 _._ 01, selected following criteria similar to those presented in section II B.
Simulations were run for _T_ = 1000, starting from
Gaussian distributions centered at _s_ = 100. To extract
the stationary profiles _na_ ( _p_ ) and _nb_ ( _p_ ), the last 750 histograms after reaching equilibrium were averaged. Ten
simulations were performed with the ABM and five with
the Gillespie algorithm, with results averaged accordingly. In the latter case, trajectories were re-scaled to
a common time frame for averaging.
Figures 6 and 7 show the strong agreement between
both methodologies, both in the evolution of total orders and in the stationary profiles. Although the master
equation does not capture stochastic fluctuations, it accurately reproduces the average evolution.
Finally, the analytical solutions of (A2) and (A3)
match the numerical profiles, as shown in Figure 7. For
the integration constants, we obtained _C ≈_ 1 _._ 94 _×_ 10 _[−]_ [8],
_Ca ≈_ 0 _._ 85 _×_ 10 _[−]_ [5], and _Cb ≈_ 2 _._ 29 _×_ 10 _[−]_ [3], confirming the
relation _C ≈_ _CaCb_ within the margin of error.


**IV.** **FORMAL-INFORMAL CONNECTION**


Up to this point, we have developed two similar
methodologies that differ in their essence, to characterize
the dynamics of both types of markets, formal and informal, using mean-field treatments based on master equa


_m_ ( _p_ _[′]_ ) 
_._
_I_ ( _p_ _[′]_ ) _[dp][′]_



_m_ ( _p_ )



0



In the case of Gaussian price distributions, we have:



(10)


(11)




~~�~~




~~�~~




~~�~~ _p_
��0




~~�~~ _p_
��



_na_ ( _p_ ) = _Ca_




~~�~~ _[−]_ _[µ]_ [)][2]
exp _−_ [(] _[p][′]_



_σ_ [2]












~~_√_~~ 1




 exp _−_ [(] _[p][′′][−]_ [2] _[µ]_ [)][2]



21 _πσ_ [2] [exp] ~~�~~ _−_ [(] _[p][′]_ 2 _[−]_ _σ_ _[µ]_ [2] [)][2]




_[−][µ]_ [)][2] �� _p_ _[′]_

_σ_ [2] 






_×_ exp






   - _p_


 _[−][CX]_ 0



0



d _p_ _[′]_

_[′][−][µ]_ [)][2] ~~�~~

2 _σ_ [2]




~~�~~




~~�~~




~~�~~ _p_
��0




~~�~~ _p_
��



_nb_ ( _p_ ) = _Cb_




~~�~~ _[−]_ _[µ]_ [)][2]
exp _−_ [(] _[p][′]_



_σ_ [2]












~~_√_~~ 1




 exp _−_ [(] _[p][′′][−]_ [2] _[µ]_ [)][2]



21 _πσ_ [2] [exp] ~~�~~ _−_ [(] _[p][′]_ 2 _[−]_ _σ_ _[µ]_ [2] [)][2]




_[−][µ]_ [)][2] �� _p_ _[′]_

_σ_ [2] 






_×_ exp






   - _p_


 _[CX]_ 0



0




_[−][µ]_ [)][2] ~~�~~ d _p_ _[′]_

2 _σ_ [2]



**D.** **Simulation and Comparison**


To validate the model, simulations were carried out
using two complementary approaches based on Monte
Carlo techniques, restricted to the case with symmetric
parameters and Gaussian-distributed prices.
First, an ABM was developed in _Python_, where buy
and sell orders enter at rate _ϕ_ and are canceled with
probability ∆, as shown in Algorithm 1 with the only
difference being the removal of restrictions during the
initial sampling phase. Prices were sampled from a normal distribution _P_ ( _s_ ( _t_ ) _, σ_ [2] _, p_ ) centered at _s_ ( _t_ ) with unit
variance, while volumes were fixed at _q_ = 1 for simplicity.
The price space was discretized over the interval _s_ ( _t_ ) _±_ 5 _σ_,
divided into 500 _bins_ . At each iteration, an agent interacts with a fraction _κ_ of agents of the opposite type,
executing transactions when _pb ≥_ _pa_ . To simplify the
dynamics, _s_ = 100 was held constant over time.
In parallel, a stochastic reaction model was implemented using the Gillespie algorithm [16], with the
_StochPy_ package [17], as shown in Algorithm 2 where for


7































FIG. 7: Averaged stationary profiles of _na_ ( _p_ ) and _nb_ ( _p_ ) obtained via stochastic simulation, numerical integration of
the master equation 8, and analytical solution for the symmetric Gaussian case 11.



tions. In this section, we demonstrate that the equations
of the informal market can be adapted to also describe
the organized dynamics of the formal market in an appropriate limit.


**A.** **Physical Interpretation**


In the stationary regime, the gas of agents describing the informal market can be understood as an open
system, composed of a classical gas with two types of
particles: buyers and sellers. These occupy discrete price
levels without internal movement between them, so that
price does not act as a dynamic degree of freedom. Particles leave the system only via cancellation or execution.
The system operates at fixed temperature _T_ and volume _V_, although both are secondary for the dynamics.
The temperature, expressed as _β ∼_ 1 _/T_, can be thought
of as related to the amplitude of fluctuations, while the
constant volume implies that higher gas density leads to
more interactions. With these considerations, the use
of a grand–canonical treatment is justified, even in the
absence of explicit dynamics.
An effective interaction energy _Eeff_ is introduced, associated with the cost of coexistence of opposite-type particles under execution conditions, which drives energy
minimization through the exhaustion of these possible
interactions. Additionally, effective chemical potentials
_µeffA_ ( _p_ ) and _µeffB_ ( _p_ ) are defined for sell and buy orders. These set the relationship between entry and cancellation rates at each price level, being “effective” in the
sense that their formulation differs from traditional Statistical Physics. Each price level has its own effective
potential, dependent on the local particle number.
The grand–canonical distribution _P_ [ _na, nb_ ] of the stationary state takes the form:



and the effective chemical potentials:







_P_ [ _na, nb_ ] = [1]

Ξ [exp]



_P_ [ _na, nb_ ] = [1]








_−_ _β_



_Eeff_ (12)




 - _∞_

_−_ _µeffA_ ( _p_ ) _na_ ( _p_ ) _dp_

0




 - _∞_

_−_



��



_µeffB_ ( _p_ ) _nb_ ( _p_ ) _dp_
0



(13)



From the stationary equations (9), an effective functional _L_ [ _na, nb_ ] can be defined, analogous to a system
Lagrangian, whose minimization reproduces the stationary conditions:



1
_L_ [ _na, nb_ ] =
1 _−_ _γa_

1
+
1 _−_ _γb_




- _∞_

[ _ϕaPa_ ( _s, p_ ) ln _na_ ( _p_ ) _−_ ∆ _ana_ ( _p_ )] _dp_
0

- _∞_

[ _ϕbPb_ ( _s, p_ ) ln _nb_ ( _p_ ) _−_ ∆ _bnb_ ( _p_ )] _dp_
0

 - _∞_




  - _∞_

_−_ _κ_



_dpa_
0



Θ( _pb −_ _pa_ ) _na_ ( _pa_ ) _nb_ ( _pb_ ) _dpb_
0

(14)



From this, some effective thermodynamic quantities
can be identified, such as an interaction energy:




    - _∞_
_Eeff_ = _κ_ _dpa_

0




- _∞_

Θ[ _pb −_ _pa_ ] _na_ ( _pa_ ) _nb_ ( _pb_ ) _dpb_ (15)
0


- _∞_ 1

0 _µeffA_ ( _p_ ) _na_ ( _p_ ) _dp_ = 1 _−_ _γa_




- _∞_


0



8


meaning prices closer to the optimal execution, are prioritized. To capture this selectivity, a preferential interaction parameter _ψ_ is introduced, which modifies the
energetic cost of interaction according to the price difference _pb −_ _pa_ . This factor is incorporated through an
exponential weight _e_ _[ψ]_ [(] _[p][b][−][p][a]_ [)], increasing the interaction
probability as mutual attractiveness grows. The modified
effective energy term is expressed as:




- _ϕaPa_ ( _s, p_ ) ln _na_ ( _p_ ) _−_ ∆ _a_

_na_ ( _p_ )




- _ϕaPa_ ( _s, p_ ) ln _na_ ( _p_ )







_× na_ ( _p_ ) _dp_

- _∞_ 



- _ϕbPb_ ( _s, pnb_ () ln _p_ ) _nb_ ( _p_ ) _−_ ∆ _b_




- _ϕbPb_ ( _s, p_ ) ln _nb_ ( _p_ )







1
0 _µeffB_ ( _p_ ) _nb_ ( _p_ ) _dp_ = 1 _−_ _γb_




- _∞_



0



_× nb_ ( _p_ ) _dp_
(16)
By analogy with the standard treatment in Statistical
Physics for such systems, the particle entry and cancellation terms have been separated within the effective chemical potential, and the interaction term between particles
is defined separately as an effective energy.



(17)

The informal market dynamics are recovered for _ψ_ = 0,
while in the limit _ψ →∞_, non-optimal interactions are
strongly penalized, and only those with maximal price
difference are executed.

This proposal was validated by implementing the
Metropolis Algorithm in _Python_, using symmetric parameters favoring optimal executions: _ψ_ = 20, _ϕ_ = 20,
_κ_ = 10 [10], and ∆= 0 _._ 01, with Gaussian prices centered
at _s_ = 100 and unit variance. As shown in Figure 9,
convergence toward the equilibrium distributions characteristic of the LOB is observed. The choice of a high _κ_
ensures that each possible preferential interaction occurs
immediately with high probability.




    - _∞_
_Eeff_ = _κ_ _dpa_

0




- _∞_

Θ[ _pb−pa_ ] _e_ _[ψ]_ [(] _[p][b][−][p][a]_ [)] _na_ ( _pa_ ) _nb_ ( _pb_ ) _dpb_
0







FIG. 8: Verification using the Metropolis Algorithm of
the convergence of the informal system to the actual
equilibrium distributions. The symmetric Gaussian case
is employed.


To validate this approach, the Metropolis Algorithm
was implemented in _Python_ to minimize the functional
_L_ [ _na, nb_ ], using _ϕ_ = 10, _κ_ = 0 _._ 05, and ∆= 0 _._ 01 in the
symmetric case with Gaussian prices centered at _s_ = 100
and unit variance. As shown in Figure 8, the results
converge to the equilibrium distributions, confirming the
validity of the proposed grand–canonical treatment.


**B.** **Generalized Master Equation**


The expressions for the effective chemical potentials
obtained for the informal system (16) can be extended
to the LOB case, since both systems share order entry
dynamics following Poisson processes and cancellation at
constant rates. The essential difference lies in the energetic term that regulates interactions.
In a LOB-type system, executions do not occur randomly; rather, orders with higher mutual attractiveness,



FIG. 9: Verification using the Metropolis Algorithm of
the convergence of the dynamic system with a high
preferential parameter _ψ_ toward the equilibrium
distribution associated with the LOB.


From this modified energetic term, the master equation of the informal system (8) is generalized to include
the exponential factor that redistributes the execution
probability in the interaction term. Thus, the temporal evolution of the order quantity profiles _na_ ( _p, t_ ) and
_nb_ ( _p, t_ ) is described by:






9



( _p, t_ ) - _∞_

= _ϕaPa_ ( _s_ ( _t_ ) _, p_ ) _−_ ∆ _ana_ ( _p, t_ ) _−_ _κ_ (1 _−_ _γa_ ) _e_ _[−][ψp]_ _na_ ( _p, t_ )
d _t_



d _na_ ( _p, t_ )



_e_ _[ψp][′]_ _nb_ ( _p_ _[′]_ _, t_ ) _dp_ _[′]_
_p_



( _p, t_ ) - _p_

= _ϕbPb_ ( _s_ ( _t_ ) _, p_ ) _−_ ∆ _bnb_ ( _p, t_ ) _−_ _κ_ (1 _−_ _γb_ ) _e_ _[ψp]_ _nb_ ( _p, t_ )
d _t_



d _nb_ ( _p, t_ )



_p_ (18)

_e_ _[−][ψp][′]_ _na_ ( _p_ _[′]_ _, t_ ) _dp_ _[′]_
0



Each term retains the interpretation given for the informal system, except that executions are modulated by
an exponential weight favoring optimal interactions, effectively acting as a larger cross-section for orders with
more attractive prices.


**C.** **Simulation and Comparison**


To validate the generalized model with the preferential
parameter _ψ_, simulations were carried out using both
an agent-based model (ABM) implemented in _Python_
(Algorithm 1) and a stochastic simulation based on the
Gillespie Algorithm via _StochPy_ (Algorithm 2). In both
approaches, symmetric parameters were used: _ϕ_ = 20,
∆= 0 _._ 01, _ψ_ = 20, and _κ_ = 10 [10], ensuring the immediate execution of all optimal interactions. The values of
_ψ_ and _κ_ were adjusted considering computational constraints and the numerical stability of the exponential
terms in the generalized equations.
A symmetric Gaussian price distribution centered at
_s_ = 100 with variance _σ_ [2] = 1 was used. For the Gillespie implementation, the discrete grid included 100 _bins_
within [ _s −_ 5 _σ, s_ + 5 _σ_ ], while integration of the master
equation (18) was performed using the Radau method,
increasing the resolution to 500 _bins_ to improve precision
and ensure convergence. The time step was _dt_ = 0 _._ 1, and
the total duration _T_ = 1500, averaging the last 750 histograms per simulation to estimate the stationary profiles
_na_ ( _p_ ) and _nb_ ( _p_ ).
The results, shown in Figures 11 and 10, reveal excellent agreement between both methodologies, both in
the temporal evolution of the total number of orders and
in the stationary profiles. A slight overestimation of the
total number of orders is observed relative to the predictions obtained from the probabilistic model of the LOB,
attributed to the parametric sensitivity of the generalized
model with respect to _ψ_ and _κ_ .
Finally, it is worth mentioning that the accuracy of the
results is expected to improve when using finer discretizations along the price axis, since the discrete representation introduces quantization errors when approximating
the differentials _dp_ from the continuous formulation, affecting both the simulation and the numerical integration.


**D.** **Effective Temperature**


The equations (8), being a mean-field approach independent of the total number of orders, are insensitive to



system fluctuations. This approximation is suitable in
simulations with a large number of particles, where relative fluctuations are negligible.
However, for a hypothetical LOB with a low number of
orders, the generalized master equation (18) with a finite
and small preferential parameter _ψ_ allows capturing the
fluctuating effects of the system, with _ψ_ interpreted as an
effective temperature. Although a systematic analysis of
the equivalence between this effective temperature and
the system size was not performed in this research, we
want to illustrate its feasibility by fitting the best value
of _ψ_ for a small system.
Although a systematic analysis of the equivalence between this effective temperature and the system size is
not done at this point, we want to illustrate its feasibility
by fitting the best value of _ψ_ for a small system. Figures
12 and 13 show the results for a LOB with few particles under symmetric Gaussian conditions, using _ϕ_ = 1,
∆= 0 _._ 01, _ψ_ = 3, and _κ_ = 0 _._ 7, with prices centered at
_s_ = 100 and variance _σ_ [2] = 1.


**V.** **CONCLUSIONS**


This work establishes that the dynamics of two idealized market archetypes—fully informal (e.g., fragmented
black markets) and fully formal (e.g., Limit Order Book
exchanges)—can be described within mean-field frameworks governed by master equations. The key insight is
that these regimes are not structurally disjoint but lie
at opposite ends of a continuous spectrum, parametrized
by a preferential interaction strength Ψ. When Ψ = 0,
agents interact indiscriminately, yielding the uncoordinated matching characteristic of informal markets; as
Ψ increases, interactions become increasingly selective,
favoring price-compatible trades and converging toward
LOB-like dynamics in the Ψ _→∞_ limit.
Crucially, the master equation for the informal limit
reproduces empirical regularities observed in real-world
informal markets—most notably, the exponential distribution of transaction-intention sizes documented in
the Cuban foreign exchange black market. This agreement suggests that the proposed gas-like formalism captures essential mechanisms of decentralized exchange under minimal institutional structure, offering a physically
grounded null model for informal price formation.
More broadly, the framework implies that real markets need not be classified as purely formal or informal,
specially nowadays when even informal markets resort
to digital platforms. Therefore, having a continuous parameter that interpolates between the two extreme ideal


10


FIG. 10: Average stationary profiles of _na_ ( _p_ ) and _nb_ ( _p_ ) obtained from the LOB simulation and from the numerical
integration of the system’s master equation 18 with _ψ_ = 20 for the symmetric Gaussian case.









































FIG. 11: Average total orders obtained from the LOB
simulation and from the numerical integration of the
system’s master equation 18 with _ψ_ = 20 for the
symmetric Gaussian case.


cases can be useful. Informal markets may operate at
intermediate values of Ψ, reflecting varying degrees of
information transparency, price discovery efficiency, or
coordination infrastructure. This opens the possibility
of quantifying the “formality” of any market via effective
estimation of Ψ from transaction or order data.

Nevertheless, significant theoretical questions remain
open. First, although simulations confirm that the Ψ _→_
_∞_ limit of the generalized master equation reproduces
LOB-like stationary profiles, we have not succeeded in
analytically reducing this limit to the master equation
independently derived for the formal LOB (Section II).
The two equations share the same phenomenology but
differ in functional form as a consequence of inherently
different derivations. Resolving this discrepancy would
be nice to claim a true unification.



FIG. 12: Total orders obtained during the LOB
simulation with few particles, along with those resulting
from the numerical integration of the system’s master
equation 18 with _ψ_ = 3 for the symmetric Gaussian
case.


Second, the current approach is strictly mean-field and
thus neglects fluctuations arising from finite population
size, discreteness, and intrinsic stochasticity. While we
observe that a finite Ψ can phenomenologically mimic
some features of small-NN LOB simulations—hinting at
an interpretation of Ψ as an effective inverse temperature—a systematic mapping between system size, fluctuation magnitude, and optimal Ψ has not been established. A fluctuation-corrected theory (e.g., via systemsize expansion or Langevin approximations) would clarify
whether Ψ genuinely encodes thermodynamic temperature or merely serves as a fitting parameter.

Finally, real LOBs exhibit power-law distributed order
sizes, inter-trade times, and price impacts—statistical
signatures that are absent in our Gaussian/mean-field


11


The general solution is given by:


                     - _p_
_e_ 0 _[g]_ [(] _[p][′]_ [)] _[dp][′]_
_m_ ( _p_ ) = _na_ ( _p_ ) _nb_ ( _p_ ) = ~~�~~ 0 _p_ [[] _Iaχ_ ( _ap_ _[′]_ ) _[−]_ _Ibχ_ ( _pb_ _[′]_ ) []] _[e]_ ~~�~~ 0 _p′_ _g_ ( _p_ _[′′]_ ) _dp_ _[′′]_ _dp′_ + _C_

(A2)


Finally, the stationary solutions for _na_ ( _p_ ) and _nb_ ( _p_ )
are obtained:











FIG. 13: Stationary profiles of _na_ ( _p_ ) and _nb_ ( _p_ ) obtained
from the LOB simulation with few particles, along with
those resulting from the numerical integration of the
system’s master equation 18 with _ψ_ = 3 for the
symmetric Gaussian case.


setup. It remains an open question whether the current
framework can be extended to generate such heavy-tailed
behavior. If not, the model may be fundamentally limited to describing only the “core” of the order book, away
from the tails where rare but consequential events occur.


Future work should face these challenges, test the
model against empirical data across market contexts and
push the formalism beyond mean-field to confront the
statistical complexity of real financial exchanges.


**ACKNOWLEDGMENTS**


To Prof. Rajiv Sethi, whose conversations with Alejandro Lage Castellanos during the _Complexity Global_
_School_ (CGS-24) inspired several of the questions that
shaped this research.


Finally, to Alejandro Garc´ıa Figal and Roberto Mulet,
for their support and various contributions to this research.


**Appendix A: Analytical solution of symmetric case**


Defining the auxiliary functions:


_χb_ _χa_ _a_ [(] _[p]_ [)] _b_ [(] _[p]_ [)]
_f_ ( _p_ ) = _,_ _g_ ( _p_ ) = _[I]_ _[′]_ _[I]_ _[′]_
_Ib_ ( _p_ ) _[−]_ _Ia_ ( _p_ ) _Ia_ ( _p_ ) [+] _Ib_ ( _p_ )


we obtain a Bernoulli equation for _m_ ( _p_ ):


_dm_ ( _p_ )

+ [ _−g_ ( _p_ )] _m_ ( _p_ ) = _f_ ( _p_ ) _m_ [2] ( _p_ ) (A1)
_dp_



�� _p_
_na_ ( _p_ ) = _Ca_ exp

0

�� _p_
_nb_ ( _p_ ) = _Cb_ exp

0



1  _a_ [(] _[p][′]_ [)] _[ −]_ _[χ][a][m]_ [(] _[p][′]_ [)] d] _[p][′]_
_Ia_ ( _p_ _[′]_ ) [[] _[I]_ _[′]_

1  _b_ [(] _[p][′]_ [) +] _[ χ][b][m]_ [(] _[p][′]_ [)] d] _[p][′]_
_Ib_ ( _p_ _[′]_ ) [[] _[I]_ _[′]_



(A3)
Note that _C_, _Ca_, and _Cb_ are integration constants, which
must satisfy the relation _C_ = _CaCb_ .


Assuming symmetric parameters for both types of orders, _χ_ = _χa_ = _χb_ and _I_ ( _p_ ) = _Ia_ ( _p_ ) = _Ib_ ( _p_ ), equation
(A1) simplifies to:



_dm_ ( _p_ )     - _Ia′_ [(] _[p]_ [)] _b_ [(] _[p]_ [)]

= _m_ ( _p_ ) _[I]_ _[′]_
_dp_ _Ia_ ( _p_ ) [+] _Ib_ ( _p_ )


which allows direct integration for _m_ ( _p_ ):








               - _p_ _I_ _[′]_ ( _p_ _[′]_ )
_m_ ( _p_ ) = _na_ ( _p_ ) _nb_ ( _p_ ) = _Ce_ [2] 0 _I_ ( _p_ ~~_[′]_~~ ) _[dp][′]_ (A4)



**Appendix B: Simulation algorithms**


**1.** **Limit order book**


The following pseudocode describes the algorithm used
to implement the order book simulation.


**Algorithm 1** Stochastic simulation of the Limit Order
Book


1: **Parameters:** _n_ steps _, n_ histograms _,_ ref _, σ, ϕ,_ ∆

_# Initialization_
2: Generate _NA_ prices _pA ∼N_ (ref _, σ_ ) such that _pA >_ ref +
0 _._ 5
3: Generate _NB_ prices _pB ∼N_ (ref _, σ_ ) such that _pB <_ ref _−_
0 _._ 5
4: Define [ _p_ min _, p_ max] and divide it into uniform intervals

_# Simulation_
5: **for** _t_ = 1 to _n_ steps **do**
6: Record total number of particles
7: Add new particles according to Poisson processes with
rate _ϕ_
8: **for** each new particle _X ∈{A, B}_ **do**
9: Draw _p ∼N_ (ref _, σ_ )
10: **if** it interacts with a counterpart **then**
11: Remove both particles
12: **else**
13: Add particle with price _p_ to side _X_
14: **end if**
15: **end for**
16: Remove particles with probability ∆
17: **if** _t_ belongs to the last _n_ histograms steps **then**
18: Store histogram
19: **end if**
20: **end for**

_# Results_
21: Compute _nA_ ( _p_ ) and _nB_ ( _p_ ) as the averages of the last
_n_ histograms histograms
22: Return _NA_ ( _t_ ) and _NB_ ( _t_ ) as the total number of particles
at each time step _t_


[1] J.-P. Bouchaud, J. Bonart, J. Donier, and M. Gould,
_Trades, Quotes and Prices: Financial Markets Under the_
_Microscope_ (Cambridge University Press, 2018).

[2] F. Slanina, _Essentials of Econophysics Modelling_ (OUP
Oxford, 2013).

[3] J. D. Farmer, P. Patelli, and I. I. Zovko, Proceedings of
the National Academy of Sciences **102**, 2254 (2005).

[4] E. S., J. D. F., L. G., and S. K., Quantitative
Finance **3**, 481 (2003).

[5] J. L. de la Oliva Cuello, _Modelo de Gas Para Mercados_
_Informales de Moneda_, Bachellor’s thesis opting for the
degree of licentiate in physics, Universidad de La Habana,
La Habana (2024).

[6] A. G. Figal, A. L. Castellanos, and R. Mulet, Looking
into informal currency markets as Limit Order Books:
Impact of market makers (2025), _arXiv:2503.03858_,
arXiv:2503.03858 [q-fin].

[7] M. D. Gould, M. A. Porter, S. Williams, M. McDonald,
D. J. Fenn, and S. D. Howison, Quantitative Finance
(2013).

[8] F. Abergel, B. K. Chakrabarti, A. Chakraborti,
and M. Mitra, _Econophysics of Order-driven Markets_
(Springer Science & Business Media, 2011).

[9] M. G. Daniels, J. D. Farmer, L. Gillemot, G. Iori, and
E. Smith, Physical Review Letters **90**, 108102 (2003).



12


**2.** **Gillespie algorithm for market ABM simulation**


This pseudocode describes the Gillespie simulation of a
gas of players with buy/sell offers whose interaction rate
favors the interaction of the most attractive prices, with
an exponential weight proportional to _ψ_ ( _pj −_ _pi_ ).


**Algorithm 2** Stochastic simulation using the Gillespie
algorithm


1: **Parameters:** _µ, σ, ϕ,_ ∆ _, κ, ψ, numbins, T_ end _, nsteps, pi, N_ sims

_# Initialization: G_ ( _pi_ ) _∼N_ ( _µ, σ, pi_ )
_# Reaction Definitions_
2: **for all** _i ∈_ [1 _, numbins_ ] **do**

3: _R_ create _,Xi_ : pool _−−−−→ϕG_ ( _pi_ ) _Xi,_ _X ∈{A, B}_

∆ _nXi_
4: _R_ destroy _,Xi_ : _Xi_ _−−−−→_ pool
5: **end for**
6: **for all** _Ai, Bj_ with _pj ≥_ _pi_ **do**

_κe_ _[ψ]_ [(] _[pj][ −][pi]_ [)] _nAi nBj_

7: _R_ int _,AiBj_ : _Ai_ + _Bj_ _−−−−−−−−−−−−−→_ pool

8: **end for**

_# Simulation_
9: Initialize system state (Gaussian sampling)
10: Run Gillespie algorithm up to _T_ end for _N_ sims trajectories
11: Average trajectories to obtain _NA_ ( _t_ ) and _NB_ ( _t_ )
12: For each trajectory, average the last _nsteps_ time points,
then average across trajectories to obtain _na_ ( _p_ ) and _nb_ ( _p_ )


[10] P.-R. Agenor, Parallel Currency Markets in Developing
Countries: Theory, Evidence, and Policy Implications
(1990), _Social Science Research Network:885142_, Social
Science Research Network:885142.

[11] P. Vidal, C. E. M. Cuza, and A. C. Torres, Applied Economics (2024).

[12] A. Garc´ıa-Figal, A. Lage-Castellanos, D. A. Amaro, and
R. Mulet, Computational Economics **65**, 2317 (2025).

[13] R. C., Quantitative Finance **1**, 223 (2001).

[14] T. G. Andersen, T. Bollerslev, F. X. Diebold, and
H. Ebens, Journal of Financial Economics **61**, 43 (2001).

[15] P. Virtanen, R. Gommers, T. E. Oliphant, M. Haberland, T. Reddy, D. Cournapeau, E. Burovski, P. Peterson, W. Weckesser, J. Bright, S. J. van der Walt,
M. Brett, J. Wilson, K. J. Millman, N. Mayorov, A. R. J.
Nelson, E. Jones, R. Kern, E. Larson, C. J. Carey, I. Po- [˙]
lat, Y. Feng, E. W. Moore, J. VanderPlas, D. Laxalde,
J. Perktold, R. Cimrman, I. Henriksen, E. A. Quintero,
C. R. Harris, A. M. Archibald, A. H. Ribeiro, F. Pedregosa, and P. van Mulbregt, Nature Methods **17**, 261
(2020).

[16] D. T. Gillespie, Exact stochastic simulation of coupled chemical reactions,
https://pubs.acs.org/doi/pdf/10.1021/j100540a008
(2002).

[17] T. R. Maarleveld, B. G. Olivier, and F. J. Bruggeman,
PLoS ONE **8**, e79345 (2013).


